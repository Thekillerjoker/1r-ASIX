# Exercici 3: T√®cniques de rescat, recuperaci√≥ del sistema i fitxers de registre 
1. # Part 1: Windows 11
**Objectiu:**
*Investigar, provar i documentar diferents t√®cniques natives de Windows per a la restauraci√≥, recuperaci√≥ i diagnosi del sistema. Crea un document amb captures de pantalla i explica amb les teves paraules per a qu√® serveix cada eina o comanda que utilitzis.*
----
1. ## Preparaci√≥ de l‚Äôentorn:
1. ### Cerca com es pot crear un punt de restauraci√≥ del sistema:
  *El primer pas es obrir el panell de control amb Windows + R i escriure control.* 
  
  *Alla ens anaem a Sistema i seguretat i despr√®s a sistema i en sistema fem clcik en l'apartat de proteccio del sistema.*

  *Una vegada estem a Protecci√≥ del sistema ens apreixara unba finestra com aquesta:*

  ![Proteci√≥-Sistema](./Captures/pt-3/Crear-punt-restauracio.png)


- **Quins passos cal seguir?**
*Com es pot veure en l'imatge anterior ens diu el seg√ºent comentari:Para crear un punto de restauraci√≥n, habilite primero la protecci√≥n; para ello, selecione  una unidad y haga click en Configurar.*

*Aixo vol dir que per defecte Windos te deshabilitada la protecci√≥ del sitema que es la que ens permet desfer cambis no deseats revertint el sistema en un moment donat, per tant el primer pas es habilitar la protecci√≥ del equip.*

- **Primer pas:** 
  *Activar la protecci√≥ del sistema i seleccionar l'espai maxim en disc que s'utilitzara per a la protecci√≥ del sistema.*

  *Per fero farem clcik en l'opcio de Configurar, una vegada agim activat la proteccio dels sistema i configurat el espai al aplicar els cambis i tornar a l'apartat anterior s'esn desbloquejara l'opico de Crear un punt de restauracio.*

  ![Primer-pas-Punt-Restauracio](./Captures/pt-3/Punt-restauracio-3.png)

- **Segon Pas:**
  *Per crear el punt de restauraci√≥ nom√©s haurem de fer clcik en crear punt de restauraci√≥, ens demanaran que li posem un nom al punt de resturaci√≥ i despr√©s nom√©s hem de fer Crear i esperar a que finalitzi el procc√©s.*

  ![Creacio-Punt-Restauracio](./Captures/pt-3/Punt-restauracio-4.png)

  **En cas de tot haber anat correctament ens apareixara aquesta finestra:**

  ![Confirmacio-Punt-Restaruacio-Creat-Correctament](./Captures/pt-3/Punt-restauracio-5.png)

  
- **Com pots comprovar que s‚Äôha creat correctament?**
*Per poder comporbar si el punt de restauraci√≥ s'ha creat correctament, haurem de fer click en restaurar Sistema i ens apareixara una finestra informativa com aquesta:*

![Finestra-Informtaiva](./Captures/pt-3/Punt-restauracio-6.png)

*Haurem de fer click en seg√ºent i en la seg√ºent finestra si hem creat el punt correctament ens apaeixarar.*

![Demostracio-Creat-correctament](./Captures/pt-3/Punt-restauracio-7.png)


- **Explica amb les teves paraules per a qu√® serveixen els punts de restauraci√≥.**
*Un punt de restauraci√≥ √©s com una imatge dun punt del teu sistema en aquell moment, i la que permet desfer cambis fets en el sistema tornant aquell moment*

2. ### Explora el Registre d‚Äôesdeveniments de Windows:

- **On pots trobar-lo?**
  *Una de les maneres es cercant en el buscador visor*

  ![Visor-de-events](./Captures/pt-3/Visor-1.png)


- **Quines categories principals hi ha?**

![Categories-Visor-Events](./Captures/pt-3/Visor-categories.png)

*Com es pot verue a l'imatge hi han les seg√ºents categories:*
  1. **Vistas Personalitzades:** *S√≥n vistes guardades que combinen filltres (nivell, origen, Id, periode, equips) aplicats a diferents registres.* *Serveixen per poder revisar nomes els esdevdiments relevants per un diagnostic concret, com per exemple veure nom√©s els errors d'una aplicaico concreta.*
  2. **Registros de Windows:** *Es on es guarden tots els registres basic del propi sistema operatiu(Aplicaci√≥,Seguretat,Configuraci√≥,Sistema i els esdevediments renviats).* *Aquesta categoria es molt util ja que √©s on es trben la majoria de dels registres utils per diagnosticar errors del SO, i dels serveis del sistema.*
  3. **Registros de aplicaciones y servicios:** *Es on es troben els regustres especifics creats per aplicacions o serveis de Windows per exemple Microsoft-Windows-PowerShell.* *Aquesta categoria ess √∫til ja que proporciona infomraci√≥ detallada i centralitzada en components concrets; son la primera opci√≥ a mirar quan un servei o aplicaci√≥ falla.*
  4. **Suscripciones:** *√âs on est√° la configuraci√≥ per rebre esdevediments de altres equips en la xarxa.(Renviament de esdevediments).* *Aquestes configuraci√≥ns permeten centralitzar la monotoritzaci√≥ de varis equips en un unic visor d'esdevediments.*

- **Localitza i documenta tres errors recents del registre del Sistema:**
**Error: Kernel-EventTracing: error 0xC0000035:**
![Error-Esdevediment-1](./Captures/pt-3/Error-1.png)

**Explicaci√≥ del error:** *El missatje diu Error generado por Kernel-EventTracing que a sota ens diu "No se pudo iniciar sesion 'PerfDiag Logger' Error:0xC0000035".* *Aix√≤ indica que el sistema de trazat de events del Kernel (**Event Tracing for Windows ETW**) ha intentat arrancar una sesio anomenada PerfDiag Logger i ha fallat amb el codi 0xC0000035.*

**Que significa el codi 0xC0000035:**
- *El codi normalment representa **STATUS_OBJECT_NAME_COLLISION**, √©s ha dir una colisio de nom o objecte ja existent; en aquest context significa que la sesi√≥ ETW que s'intenta crear ja existeix o hi ha entrades duplicades relacionades mab aquesta sesi√≥.*

**Error 4625:**
![Error-4625](./Captures/pt-3/Error-2.png)

**Explicaci√≥ del error 4625:** *El missatje ens diu "Error de una cuenta al iniciar sesi√≥n.".*

*El esdevediment 4625 registra un intent d'inici de sesi√≥ fallit en Windows.*
**Explicaci√≥ de la informaci√≥ que ens dona:**
- **Origen:** *Microsoft Windows Security auditing ens indica que l'error prove del sistema d'auditoria de windows.*
- **Subjecte:** *Security id ens indica que es System, el nom de la conta es SRODRIGUEZBRAVO, i que el domini en aques cas com no te es WORKGROUP que vol dir que es el propi equip.*
- **Id. Inicio de session:** *0x3E7 es l'identificador utilitzat pel sistema que en aquest cas 0x3E7 es el compte SYSTEM en Windows.*
- **Tipus d'inici de sesi√≥ 2:** *Vol dir que es un tipus d'inici de sesi√≥ interactiu com per exemple amb el teclat en local.*
- **Cuenta con error de inicio de sesi√≥n : Null SID/ sergi/ SRODRIGUEZBRAO:** *Son dades de que el compte que ha intenta autentificarse i ha fallat; Null SID indica que no ha pogut resoldre un SID v√°lid per aquest compte.*
- **Categoria de tarea/ Palabras clave: Logon/Error de auditoria:** *Clasifica el esdevediment com relacionat amb l'inici de sesio i un error en l'auditoria.*
- **Equipo : SrodriguezBravo:** *√âs l'equip on s'ha prodogut l'intent.*
- **Fecha y hora:** *La data i la hora en que s'ha produgut l'error.*

**Error 8198:**
![Error-8198](./Captures/pt-3/Error-3.png)

**Explicaci√≥ del Error 8198:** *√âs un error d'activaci√≥ de llicencia registrat pel servei de Protecci√≥ de Software de Microsoft (**Software Protection Platalform, SPP**) quan slui.exe no ha pogut completar la activaci√≥ automatica.*
**Explicaci√≥ de la infomraci√≥ del error:**
- **Codi error 0x80040005:** *Aquest error sol ser un error generic de E_FAIL/ Acces fallit  o denegat en components de SPP, que indica que l'operacio d'activaci√≥ no s'ha completat, per un error generic(Problemes de permisos,comunicacio, serveis o archiu bloquejats).*
- **Argumentos en la linea de comandos:**
  - **Ruleid=1;Action=AutoActivate;Trigger=UserLogon;Sessionid=1:** *Indica que l'activacio automatica s'ha intentat al iniciar sesio d'usuari "Activar en background al logon".*
  - **AppId /SkuId:** *Identifiquen l'aplicaci√≥ i l'edicio del producte que s'intentava activar, per exemple un SKU de Windows.*
  - **NotificationInterval=1440:** *Sugereix intents programats cada 1440 minuts (1 dia).*
s
---
1. ## Exploraci√≥ del Registre de Windows :
2. ### Investiga com accedir a l‚ÄôEditor del Registre:


**Quins riscos comporta modificar-lo?**


**Com pots exportar una c√≤pia de seguretat?**


2. ### Explora diferents claus del registre.


**On pots trobar la informaci√≥ sobre el directori dels programes instal¬∑lats?**


**On es guarden les prefer√®ncies de l‚Äôusuari?**


Quina funci√≥ tenen les extensions de fitxers (com .txt) dins del registre?
---

3. ## Eines natives de recuperaci√≥:
1. ### Cerca les opcions de recuperaci√≥ de Windows.


Quines opcions hi ha dins ‚ÄúRecuperaci√≥‚Äù a la Configuraci√≥?


Quina difer√®ncia hi ha entre ‚ÄúRestablir aquest PC‚Äù i ‚ÄúInici avan√ßat‚Äù?


2. ### Descobreix com accedir al men√∫ de recuperaci√≥.


Quines opcions s‚Äôhi ofereixen?


Quina utilitat t√© l‚Äôopci√≥ ‚ÄúS√≠mbol del sistema‚Äù?


Investiga com s‚Äôutilitzen les comandes chkdsk, sfc i dism.
---

4. ## Gesti√≥ de serveis i processos
1. ### Troba com es poden consultar i gestionar els serveis de Windows.


Qu√® √©s exactament un servei?


Quins serveis essencials pots trobar (com Windows Update o Firewall)?


Com pots aturar o reiniciar un servei?


2. ### Explora el Gestor de tasques.


Quines pestanyes principals t√©?


Quina informaci√≥ pots obtenir de ‚ÄúRendiment‚Äù i ‚ÄúServeis‚Äù?


Com pots controlar les aplicacions d‚Äôinici?
---

5. ## Creaci√≥ d‚Äôeines de rescat
1. ### Investiga com crear un disc o imatge de reparaci√≥ del sistema.


Quina difer√®ncia hi ha entre un disc de reparaci√≥ i una imatge del sistema?


On es configuren les opcions d‚Äôhistorial de fitxers?


2. ### Documenta les teves troballes i captura els passos m√©s importants.
ad
---
6. ## Proves i simulacions
1. ### Crea i modifica una clau de registre per fer proves.


Com pots exportar i restaurar una clau modificada?


Qu√® passa si restaures un punt de restauraci√≥?


2. ### Explica com actuaries si el sistema no arrenca.


Quines opcions de rescat tens?


Quin √∫s tindrien les eines com cmd o ‚ÄúInici avan√ßat‚Äù?
---
7. ## Q√ºestionari final
1. Difer√®ncia entre punt de restauraci√≥ i imatge del sistema.
2. Quines s√≥n les claus principals del registre de Windows?
3. Qu√® fa exactament la comanda sfc /scannow?
4. Com pots accedir al men√∫ de recuperaci√≥ si Windows no inicia?
5. Quina informaci√≥ pots obtenir del Registre d‚Äôesdeveniments?
asd
---
---
 # üêß Part2: Ubuntu24.
**Objectiu:**
*Explorar i posar en pr√†ctica t√®cniques de manteniment, recuperaci√≥ i c√≤pia de seguretat en un sistema Linux basat en Ubuntu.*
# Part 2: Ubuntu 24:
**Objectius:**
- *Dominar les eines de recuperaci√≥ d'Ubuntu*
- *Explorar els fitxers de log i configuraci√≥ del sistema*
- *Practicar t√®cniques de rescat des de la l√≠nia de comandes*
- *Configurar c√≤pies de seguretat autom√†tiques*
dd
---

1. ## Preparaci√≥ de l‚Äôentorn
1. ### Cerca com actualitzar el sistema i instal¬∑lar eines de recuperaci√≥.


Quines comandes s‚Äôutilitzen per actualitzar i instal¬∑lar paquets?


Quines eines recomanaries per a c√≤pies de seguretat o recuperaci√≥? (ex.: Timeshift, Rsync, GParted‚Ä¶)


2. ### Investiga com crear un ‚Äúsnapshot‚Äù del sistema.


Qu√® √©s un snapshot?


Com pots llistar els snapshots existents?


3. ### Explora l‚Äôestructura b√†sica del sistema.


Quins directoris hi ha a /?


On es guarden els logs principals?
---

2. ## Logs i configuraci√≥ del sistema
1. ### Explora els fitxers de log al directori /var/log/.


Quina informaci√≥ hi contenen syslog, auth.log, kern.log i dpkg.log?


Com pots llegir-los en temps real?


2. ### Descobreix l‚Äôeina journalctl.


Com pots filtrar logs per servei, per temps o per nivell de prioritat?


Quina difer√®ncia hi ha entre journalctl i els fitxers del directori /var/log/?


3. ### Examina fitxers de configuraci√≥ importants.


Qu√® pots trobar a /etc/os-release, /etc/fstab, /etc/passwd o /etc/netplan/?


Quina informaci√≥ proporcionen /proc/cpuinfo i /proc/meminfo?
---

3. ## Serveis i processos
1. ### Investiga com es gestionen els serveis amb systemctl.


Quines ordres permeten iniciar, aturar o habilitar serveis?


Quins serveis essencials pots comprovar (ssh, NetworkManager, ufw...)?


2. ### Analitza processos en execuci√≥.


Com pots veure llistats de processos i consum de recursos?


Quines difer√®ncies hi ha entre top, htop i ps?


Qu√® mostra la comanda pstree?
---
4. ## C√≤pies de seguretat
1. ## Cerca com utilitzar rsync per fer c√≤pies incrementals.


Quina √©s la seva sintaxi b√†sica?


Quins avantatges t√© sobre cp?


2. ### Apr√®n a crear i restaurar arxius comprimits amb tar.


Com pots llistar, crear i extreure arxius .tar.gz?


3. ### Opcional: Investiga com fer c√≤pies a nivell de bloc amb dd.


Quins riscos t√©?


En quins casos s‚Äôutilitza?
---

5. ## Mode de recuperaci√≥ i Live USB
1. ### Com pots accedir al mode de recuperaci√≥ (GRUB Recovery Mode)?


Quines opcions ofereix el men√∫?


En quins casos utilitzaries fsck, dpkg o root shell?


2. ### Simula un escenari de rescat des d‚Äôun Live USB.


Quins passos cal seguir per muntar la partici√≥ del sistema i accedir-hi amb chroot?


Quines tasques pots fer un cop dins (reparar GRUB, reinstal¬∑lar paquets, restaurar c√≤pies...)?
---
6. ## Pr√†ctiques finals
1. ### Analitza els logs del sistema per detectar errors o intents d‚Äôintrusi√≥.


Troba intents de connexi√≥ fallits o errors del kernel recents.


Documenta la informaci√≥ obtinguda.


2. ### Simula un error i restaura un fitxer essencial.


Comprova que tot torna a funcionar.


Explica com podries haver evitat el problema amb una c√≤pia de seguretat.


3. ### Crea (o documenta com es crearia) un Live USB personalitzat amb eines de rescat.
d
----
7. ## Q√ºestionari final:
   Quina difer√®ncia hi ha entre rsync i cp?


Qu√® fa exactament la comanda fsck i quan no s‚Äôha d‚Äôutilitzar?


Qu√® √©s Timeshift i en qu√® millora les c√≤pies tradicionals?


Com pots restaurar el bootloader GRUB des d‚Äôun Live USB?


Quina difer√®ncia hi ha entre /var/log/syslog i journalctl?


Qu√® pots fer si oblides la contrasenya de root?
